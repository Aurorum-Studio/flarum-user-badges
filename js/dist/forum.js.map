{"version":3,"sources":["webpack://@v17development/flarum-badges/webpack/bootstrap","webpack://@v17development/flarum-badges/./forum.js","webpack://@v17development/flarum-badges/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@v17development/flarum-badges/./node_modules/@babel/runtime/helpers/inheritsLoose/_index.mjs","webpack://@v17development/flarum-badges/./node_modules/@babel/runtime/helpers/setPrototypeOf/index.js","webpack://@v17development/flarum-badges/./src/common/models/Badge.js","webpack://@v17development/flarum-badges/./src/common/models/BadgeCategory.js","webpack://@v17development/flarum-badges/./src/common/models/UserBadge.js","webpack://@v17development/flarum-badges/./src/forum/components/BadgeItemPage.js","webpack://@v17development/flarum-badges/./src/forum/components/BadgeModal.js","webpack://@v17development/flarum-badges/./src/forum/components/BadgesOverviewPage.js","webpack://@v17development/flarum-badges/./src/forum/components/BadgesProfilePage.js","webpack://@v17development/flarum-badges/./src/forum/components/GiveBadgeModal.js","webpack://@v17development/flarum-badges/./src/forum/components/UserBadge.js","webpack://@v17development/flarum-badges/./src/forum/components/UserBadgeList.js","webpack://@v17development/flarum-badges/./src/forum/index.js","webpack://@v17development/flarum-badges/external \"flarum.core.compat['Component']\"","webpack://@v17development/flarum-badges/external \"flarum.core.compat['Model']\"","webpack://@v17development/flarum-badges/external \"flarum.core.compat['components/Button']\"","webpack://@v17development/flarum-badges/external \"flarum.core.compat['components/Link']\"","webpack://@v17development/flarum-badges/external \"flarum.core.compat['components/LinkButton']\"","webpack://@v17development/flarum-badges/external \"flarum.core.compat['components/Modal']\"","webpack://@v17development/flarum-badges/external \"flarum.core.compat['components/Page']\"","webpack://@v17development/flarum-badges/external \"flarum.core.compat['components/UserPage']\"","webpack://@v17development/flarum-badges/external \"flarum.core.compat['extend']\"","webpack://@v17development/flarum-badges/external \"flarum.core.compat['helpers/fullTime']\"","webpack://@v17development/flarum-badges/external \"flarum.core.compat['models/User']\"","webpack://@v17development/flarum-badges/external \"flarum.core.compat['utils/ItemList']\"","webpack://@v17development/flarum-badges/external \"flarum.core.compat['utils/Stream']\"","webpack://@v17development/flarum-badges/external \"flarum.core.compat['utils/mixin']\""],"names":["Badge","apiEndpoint","exists","data","id","mixin","Model","name","attribute","icon","order","image","description","isVisible","createdAt","earnedAmount","category","hasOne","BadgeCategory","isEnabled","users","hasMany","badges","UserBadge","user","badge","isPrimary","assignedAt","BadgeItemPage","oninit","vnode","view","Page","BadgeModal","className","title","app","translator","trans","content","toArray","attrs","userBadgeData","confirm","items","ItemList","add","forum","e","preventDefault","modal","show","GiveBadgeModal","fullTime","transChoice","count","Modal","BadgesOverviewPage","BadgesProfilePage","loadUser","m","route","param","UserBadgeList","component","UserPage","store","createRecord","Stream","loading","fields","onsubmit","save","then","hide","redraw","response","handleErrors","oncreate","$","tooltip","Component","categories","userBadges","map","userBadge","categoryId","push","Object","keys","length","sort","a","b","initializers","models","badgeCategories","User","prototype","userPrimaryBadge","routes","path","extend","LinkButton","href","username"],"mappings":"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","file":"forum.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./forum.js\");\n","export * from './src/forum';\r\n","export { default } from \"../inheritsLoose/_index.mjs\"","import setPrototypeOf from \"@babel/runtime/helpers/setPrototypeOf\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","import Model from \"flarum/Model\";\nimport mixin from \"flarum/utils/mixin\";\nimport BadgeModal from \"../../forum/components/BadgeModal\";\n\nexport default class Badge extends mixin(Model, {\n  name: Model.attribute(\"name\"),\n  icon: Model.attribute(\"icon\"),\n  order: Model.attribute(\"order\"),\n  image: Model.attribute(\"image\"),\n  description: Model.attribute(\"description\"),\n  isVisible: Model.attribute(\"isVisible\"),\n  createdAt: Model.attribute(\"createdAt\"),\n  earnedAmount: Model.attribute(\"earnedAmount\"),\n  category: Model.hasOne(\"category\"),\n}) {\n  apiEndpoint() {\n    return '/badges' + (this.exists ? '/' + this.data.id : '');\n  }\n}\n","import Model from \"flarum/Model\";\nimport mixin from \"flarum/utils/mixin\";\n\nexport default class BadgeCategory extends mixin(Model, {\n  name: Model.attribute(\"name\"),\n  isEnabled: Model.attribute(\"isEnabled\"),\n  createdAt: Model.attribute(\"createdAt\"),\n  users: Model.hasMany(\"users\"),\n  badges: Model.hasMany(\"badges\"),\n}) {\n  apiEndpoint() {\n    return '/user_categories' + (this.exists ? '/' + this.data.id : '');\n  }\n}\n","import Model from \"flarum/Model\";\nimport mixin from \"flarum/utils/mixin\";\n\nexport default class UserBadge extends mixin(Model, {\n  user: Model.hasOne(\"user\"),\n  badge: Model.hasOne(\"badge\"),\n  description: Model.attribute(\"description\"),\n  isPrimary: Model.attribute(\"isPrimary\"),\n  assignedAt: Model.attribute(\"assignedAt\"),\n}) {\n  apiEndpoint() {\n    return '/user_badges' + (this.exists ? '/' + this.data.id : '');\n  }\n}\n","import Page from \"flarum/components/Page\";\n\nexport default class BadgeItemPage extends Page {\n  oninit(vnode) {\n    super.oninit(vnode);\n  }\n\n  view() {\n    return <p>Badge page</p>;\n  }\n}\n","import Modal from \"flarum/components/Modal\";\nimport Button from \"flarum/components/Button\";\nimport fullTime from \"flarum/helpers/fullTime\";\nimport ItemList from \"flarum/utils/ItemList\";\nimport Link from \"flarum/components/Link\";\nimport GiveBadgeModal from \"./GiveBadgeModal\";\n\nexport default class BadgeModal extends Modal {\n  className() {\n    return \"Modal--small\";\n  }\n\n  title() {\n    return app.translator.trans(\n      \"v17development-flarum-badges.forum.badge_information\"\n    );\n  }\n\n  content() {\n    return (\n      <div>\n        <div className=\"Modal-body\">{this.data().toArray()}</div>\n        {this.attrs.userBadgeData && (\n          <div className=\"Modal-footer\">\n            <Button\n              className={\"Button Button--primary\"}\n              onclick={() => {\n                if (\n                  confirm(\n                    app.translator.trans(\n                      \"v17development-flarum-badges.forum.moderation.remove_badge_confirm\"\n                    )\n                  )\n                ) {\n                  this.attrs.userBadgeData.delete();\n                }\n              }}\n            >\n              {app.translator.trans(\n                \"v17development-flarum-badges.forum.moderation.remove_badge\"\n              )}\n            </Button>\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  data() {\n    const items = new ItemList();\n\n    // Badge name\n    items.add(\n      \"name\",\n      <div className={\"BadgeModalListItem\"}>\n        <p>\n          <b>\n            {app.translator.trans(\n              \"v17development-flarum-badges.forum.badge.name\"\n            )}\n            :\n          </b>\n        </p>\n        <p>{this.attrs.badge.name()}</p>\n      </div>\n    );\n\n    // Badge description\n    items.add(\n      \"description\",\n      <div className={\"BadgeModalListItem\"}>\n        <p>\n          <b>\n            {app.translator.trans(\n              \"v17development-flarum-badges.forum.badge.description\"\n            )}\n            :\n          </b>\n        </p>\n        <p>{this.attrs.badge.description()}</p>\n      </div>\n    );\n\n    // Badge earning reason\n    if (this.attrs.userBadgeData) {\n      items.add(\n        \"earning_reason\",\n        <div className={\"BadgeModalListItem\"}>\n          <p>\n            <b>\n              {app.translator.trans(\n                \"v17development-flarum-badges.forum.badge.earning_reason\"\n              )}\n              :\n            </b>\n          </p>\n          \n          <p>\n            {this.attrs.userBadgeData.description() ? this.attrs.userBadgeData.description() : 'none'}\n            \n            {app.forum.attribute(\"canGiveBadge\") && (\n              <a \n                href={\"#\"} \n                onclick={e => {\n                  e.preventDefault();\n                  app.modal.show(GiveBadgeModal, {\n                    badge: this.attrs.userBadgeData\n                  })\n                }}>\n                {app.translator.trans(\n                  \"v17development-flarum-badges.forum.badge.update_earning_reason\"\n                )}\n              </a>\n            )}\n          </p>\n        </div>\n      );\n    }\n\n    // Badge earned on\n    if (this.attrs.userBadgeData) {\n      items.add(\n        \"earned_date\",\n        <div className={\"BadgeModalListItem\"}>\n          <p>\n            <b>\n              {app.translator.trans(\n                \"v17development-flarum-badges.forum.badge.earned_on\"\n              )}\n              :\n            </b>\n          </p>\n          <p>{fullTime(this.attrs.userBadgeData.assignedAt())}</p>\n        </div>\n      );\n    }\n\n    // Badge category\n    if (this.attrs.userBadgeData) {\n      items.add(\n        \"category\",\n        <div className={\"BadgeModalListItem\"}>\n          <p>\n            <b>\n              {app.translator.trans(\n                \"v17development-flarum-badges.forum.badge.category\"\n              )}\n              :\n            </b>\n          </p>\n          <p>\n            {this.attrs.badge.category().name()}\n            {/* <Link\n              href={app.route(\"badges.category\", {\n                category: this.attrs.badge.category().id(),\n              })}\n            >\n              {app.translator.trans(\n                \"v17development-flarum-badges.forum.all_badges\"\n              )}\n            </Link> */}\n          </p>\n        </div>\n      );\n    }\n\n    // Badge category\n    if (this.attrs.badge && this.attrs.badge.earnedAmount()) {\n      items.add(\n        \"earned_amount\",\n        <div className={\"BadgeModalListItem\"}>\n          <p>\n            {app.translator.transChoice(\n              \"v17development-flarum-badges.forum.badge.earned_count\",\n              this.attrs.badge.earnedAmount(),\n              {\n                count: this.attrs.badge.earnedAmount(),\n              }\n            )}\n          </p>\n        </div>\n      );\n    }\n\n    return items;\n  }\n}\n","import Page from \"flarum/components/Page\";\n\nexport default class BadgesOverviewPage extends Page {\n  oninit(vnode) {\n    super.oninit(vnode);\n  }\n\n  view() {\n    return <p>Badge page</p>;\n  }\n}\n","import UserPage from \"flarum/components/UserPage\";\nimport UserBadgeList from \"./UserBadgeList\";\n\nexport default class BadgesProfilePage extends UserPage {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.user = null;\n\n    this.loadUser(m.route.param(\"username\"));\n  }\n\n  content() {\n    return UserBadgeList.component({\n      user: this.user,\n    });\n  }\n\n  show(user) {\n    super.show(user);\n    this.user = user;\n  }\n}\n","import Modal from \"flarum/components/Modal\";\r\nimport Button from \"flarum/components/Button\";\r\nimport ItemList from \"flarum/utils/ItemList\";\r\nimport Link from \"flarum/components/Link\";\r\nimport Stream from \"flarum/utils/Stream\";\r\n\r\nexport default class GiveBadgeModal extends Modal {\r\n  oninit(vnode) {\r\n    super.oninit(vnode);\r\n\r\n    this.badge = this.attrs.badge ? this.attrs.badge : app.store.createRecord('userBadges');\r\n\r\n    this.description = Stream(this.badge.description());\r\n\r\n    this.loading = false;\r\n  }\r\n\r\n  className() {\r\n    return \"Modal--small\";\r\n  }\r\n\r\n  title() {\r\n    return app.translator.trans(\r\n      `v17development-flarum-badges.forum.${this.badge.exists ? 'update' : 'give'}_badge`\r\n    );\r\n  }\r\n\r\n  content() {\r\n    return (\r\n      <div>\r\n        <div className=\"Modal-body\">\r\n          <div className=\"Form\">\r\n            {this.fields().toArray()}\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"Modal-footer\">\r\n          <Button\r\n            className={\"Button Button--primary\"}\r\n            type={\"submit\"}\r\n            loading={this.loading}\r\n          >\r\n            {app.translator.trans(\r\n              \"core.forum.composer_edit.submit_button\"\r\n            )}\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  fields() {\r\n    const items = new ItemList();\r\n\r\n    items.add('description', (\r\n      <div className=\"Form-group\">\r\n        <label>\r\n          {app.translator.trans(\r\n            \"v17development-flarum-badges.forum.badge.earning_reason\"\r\n          )}\r\n        </label>\r\n        <textarea \r\n          className=\"FormControl\"\r\n          placeholder={app.translator.trans(\r\n            \"v17development-flarum-badges.forum.badge.earning_reason\"\r\n          )}\r\n          bidi={this.description}\r\n          />\r\n      </div>\r\n    ), 30);\r\n\r\n    return items;\r\n  }\r\n\r\n  onsubmit(e) {\r\n    e.preventDefault();\r\n\r\n    this.loading = true;\r\n\r\n    this.badge\r\n      .save({\r\n        description: this.description()\r\n      })\r\n      .then(\r\n        () => {\r\n          this.hide();\r\n          m.redraw();\r\n        },\r\n        response => {\r\n            this.loading = false;\r\n            this.handleErrors(response);\r\n        }\r\n    );\r\n  }\r\n}\r\n","import Component from \"flarum/Component\";\nimport BadgeModal from \"./BadgeModal\";\n\nexport default class UserBadge extends Component {\n  view() {\n    return (\n      <span\n        className=\"UserBadge\"\n        title={`${\n          this.attrs.badge.description() ? this.attrs.badge.description() : \"\"\n        }`}\n        onclick={() =>\n          app.modal.show(BadgeModal, {\n            badge: this.attrs.badge,\n            userBadgeData: this.attrs.userBadgeData,\n          })\n        }\n      >\n        <i className={this.attrs.badge.icon()} /> {this.attrs.badge.name()}\n      </span>\n    );\n  }\n\n  oncreate(vnode) {\n    super.oncreate(vnode);\n\n    this.$().tooltip();\n  }\n}\n","import Component from \"flarum/Component\";\nimport UserBadge from \"./UserBadge\";\n\nexport default class UserBadgeList extends Component {\n  view() {\n    const categories = {};\n\n    this.attrs.user.userBadges().map((userBadge) => {\n      const categoryId = userBadge.badge().category().id();\n\n      if (!categories[categoryId]) {\n        categories[categoryId] = [userBadge];\n      } else {\n        categories[categoryId].push(userBadge);\n      }\n    });\n\n    return (\n      <div className=\"UserBadges\">\n        {Object.keys(categories).length === 0 && (\n          <div className={\"Placeholder\"}>\n            <p>This user does not have any badges yet.</p>\n          </div>\n        )}\n\n        {Object.keys(categories).length >= 1 &&\n          Object.keys(categories).map((categoryId) => {\n            const category = categories[categoryId];\n\n            return (\n              <div>\n                <h3>{category[0].badge().category().name()}</h3>\n                {category\n                  .sort((a, b) => a.badge().order() - b.badge().order())\n                  .map((userBadge) => (\n                    <UserBadge\n                      badge={userBadge.badge()}\n                      userBadgeData={userBadge}\n                    />\n                  ))}\n              </div>\n            );\n          })}\n      </div>\n    );\n  }\n}\n","import { extend } from \"flarum/extend\";\nimport Model from \"flarum/Model\";\nimport User from \"flarum/models/User\";\nimport UserPage from \"flarum/components/UserPage\";\nimport LinkButton from \"flarum/components/LinkButton\";\nimport Badge from \"../common/models/Badge\";\nimport BadgeCategory from \"../common/models/BadgeCategory\";\nimport UserBadge from \"../common/models/UserBadge\";\nimport BadgesProfilePage from \"./components/BadgesProfilePage\";\nimport BadgesOverviewPage from \"./components/BadgesOverviewPage\";\nimport BadgeItemPage from \"./components/BadgeItemPage\";\n\napp.initializers.add(\"v17development-flarum-badges\", (app) => {\n  app.store.models.badges = Badge;\n  app.store.models.badgeCategories = BadgeCategory;\n  app.store.models.userBadges = UserBadge;\n\n  User.prototype.userBadges = Model.hasMany(\"userBadges\");\n  User.prototype.userPrimaryBadge = Model.hasOne(\"userPrimaryBadge\");\n\n  // Add user badges to the user profile\n  app.routes[\"user.badges\"] = {\n    path: \"/u/:username/badges\",\n    component: BadgesProfilePage,\n  };\n\n  // Future\n  // // Badges overview page\n  // app.routes[\"badges\"] = {\n  //   path: \"/badges\",\n  //   component: BadgesOverviewPage,\n  // };\n\n  // // Badges overview page\n  // app.routes[\"badges.category\"] = {\n  //   path: \"/badges/category/:id\",\n  //   component: BadgesOverviewPage,\n  // };\n\n  // // Badge item page\n  // app.routes[\"badges.item\"] = {\n  //   path: \"/badges/:id\",\n  //   component: BadgeItemPage,\n  // };\n\n  // Add uploads to user page menu items\n  extend(UserPage.prototype, \"navItems\", function (items) {\n    items.add(\n      \"badges\",\n      LinkButton.component(\n        {\n          href: app.route(\"user.badges\", {\n            username: this.user.username(),\n          }),\n          name: \"badges\",\n          icon: \"fas fa-user-tag\"\n        },\n        [\n          app.translator.trans(\"v17development-flarum-badges.forum.badge.badges\"),\n          <span className=\"Button-badge\">{this.user.userBadges().length}</span>\n        ]\n      ),\n      90\n    );\n  });\n});\n","module.exports = flarum.core.compat['Component'];","module.exports = flarum.core.compat['Model'];","module.exports = flarum.core.compat['components/Button'];","module.exports = flarum.core.compat['components/Link'];","module.exports = flarum.core.compat['components/LinkButton'];","module.exports = flarum.core.compat['components/Modal'];","module.exports = flarum.core.compat['components/Page'];","module.exports = flarum.core.compat['components/UserPage'];","module.exports = flarum.core.compat['extend'];","module.exports = flarum.core.compat['helpers/fullTime'];","module.exports = flarum.core.compat['models/User'];","module.exports = flarum.core.compat['utils/ItemList'];","module.exports = flarum.core.compat['utils/Stream'];","module.exports = flarum.core.compat['utils/mixin'];"],"sourceRoot":""}